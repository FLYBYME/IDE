üöÄ Starting CanvasLLM IDE Server...
Registered service action auth.login v1
Registered service action auth.logout v1
Registered service action auth.getSession v1
Registered service action auth.refreshToken v1
Registered service action auth.register v1
Registered service action auth.requestPasswordReset v1
Registered service action auth.resetPassword v1
Registered service action auth.updatePassword v1
Registered service action workspace.list v1
Registered service action workspace.create v1
Registered service action workspace.get v1
Registered service action workspace.update v1
Registered service action workspace.delete v1
Registered service action workspace.execute v1
Registered service action workspace.processes v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Registered service action file.search v1
Registered service action editor.getState v1
Registered service action editor.saveState v1
Registered service action editor.openFile v1
Registered service action editor.closeFile v1
Registered service action editor.autosave v1
Registered service action settings.getUserSettings v1
Registered service action settings.updateUserSettings v1
Registered service action settings.getWorkspaceSettings v1
Registered service action settings.updateWorkspaceSettings v1
Registered service action ai.chat v1
Registered service action ai.generateCode v1
Registered service action ai.explainCode v1
Registered service action ai.reviewCode v1
Registered service action ai.refactor v1
Registered service action realtime.broadcast v1
Registered service action meta.healthCheck v1
Registered service action meta.getCapabilities v1
Registered service action source-control.status v1
Registered service action source-control.log v1
Registered service action source-control.commit v1
Registered service action source-control.listBranches v1
Registered service action source-control.createBranch v1
Registered service action source-control.deleteBranch v1
Registered service action source-control.checkout v1
Registered service action source-control.merge v1
Registered service action extensions.submit v1
Registered service action extensions.getBuildStatus v1
Registered service action extensions.listVersions v1
Registered service action extensions.search v1
Registered service action extensions.list v1
Registered service action extensions.get v1
Registered service action extensions.getManifest v1
Registered service action extensions.toggle v1
Registered service action extensions.install v1
Registered service action extensions.uninstall v1
Registered service action extensions.update v1
Registered service action extensions.delete v1
Registered service action extensions.rebuild v1
Registered service action extensions.deleteVersion v1
Registered service action secrets.set v1
Registered service action secrets.list v1
Registered service action secrets.delete v1
‚úÖ Registered 65 service actions across 11 domains
üìÅ VFS Manager started
Starting CronJobManager...
‚öôÔ∏è  ServiceManager started
Configured 65 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3001
üåç HTTP Server listening on 0.0.0.0:3001
üìã Meta routes: http://0.0.0.0:3001/api/_meta/routes
‚ù§Ô∏è  Health check: http://0.0.0.0:3001/api/_meta/health
ServiceAction meta.healthCheck v1 calling...
ServiceAction meta.healthCheck v1 completed successfully
üöÄ Starting CanvasLLM IDE Server...
Registered service action auth.login v1
Registered service action auth.logout v1
Registered service action auth.getSession v1
Registered service action auth.refreshToken v1
Registered service action auth.register v1
Registered service action auth.requestPasswordReset v1
Registered service action auth.resetPassword v1
Registered service action auth.updatePassword v1
Registered service action workspace.list v1
Registered service action workspace.create v1
Registered service action workspace.get v1
Registered service action workspace.update v1
Registered service action workspace.delete v1
Registered service action workspace.execute v1
Registered service action workspace.processes v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Registered service action file.search v1
Registered service action editor.getState v1
Registered service action editor.saveState v1
Registered service action editor.openFile v1
Registered service action editor.closeFile v1
Registered service action editor.autosave v1
Registered service action settings.getUserSettings v1
Registered service action settings.updateUserSettings v1
Registered service action settings.getWorkspaceSettings v1
Registered service action settings.updateWorkspaceSettings v1
Registered service action ai.chat v1
Registered service action ai.generateCode v1
Registered service action ai.explainCode v1
Registered service action ai.reviewCode v1
Registered service action ai.refactor v1
Registered service action realtime.broadcast v1
Registered service action meta.healthCheck v1
Registered service action meta.getCapabilities v1
Registered service action source-control.status v1
Registered service action source-control.log v1
Registered service action source-control.commit v1
Registered service action source-control.listBranches v1
Registered service action source-control.createBranch v1
Registered service action source-control.deleteBranch v1
Registered service action source-control.checkout v1
Registered service action source-control.merge v1
Registered service action extensions.submit v1
Registered service action extensions.getBuildStatus v1
Registered service action extensions.listVersions v1
Registered service action extensions.search v1
Registered service action extensions.list v1
Registered service action extensions.get v1
Registered service action extensions.getManifest v1
Registered service action extensions.toggle v1
Registered service action extensions.install v1
Registered service action extensions.uninstall v1
Registered service action extensions.update v1
Registered service action extensions.delete v1
Registered service action extensions.rebuild v1
Registered service action extensions.deleteVersion v1
Registered service action secrets.set v1
Registered service action secrets.list v1
Registered service action secrets.delete v1
‚úÖ Registered 65 service actions across 11 domains
üìÅ VFS Manager started
Starting CronJobManager...
‚öôÔ∏è  ServiceManager started
Configured 65 REST routes.
üöÄ Starting CanvasLLM IDE Server...
Registered service action auth.login v1
Registered service action auth.logout v1
Registered service action auth.getSession v1
Registered service action auth.refreshToken v1
Registered service action auth.register v1
Registered service action auth.requestPasswordReset v1
Registered service action auth.resetPassword v1
Registered service action auth.updatePassword v1
Registered service action workspace.list v1
Registered service action workspace.create v1
Registered service action workspace.get v1
Registered service action workspace.update v1
Registered service action workspace.delete v1
Registered service action workspace.execute v1
Registered service action workspace.processes v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Registered service action file.search v1
Registered service action editor.getState v1
Registered service action editor.saveState v1
Registered service action editor.openFile v1
Registered service action editor.closeFile v1
Registered service action editor.autosave v1
Registered service action settings.getUserSettings v1
Registered service action settings.updateUserSettings v1
Registered service action settings.getWorkspaceSettings v1
Registered service action settings.updateWorkspaceSettings v1
Registered service action ai.chat v1
Registered service action ai.generateCode v1
Registered service action ai.explainCode v1
Registered service action ai.reviewCode v1
Registered service action ai.refactor v1
Registered service action realtime.broadcast v1
Registered service action meta.healthCheck v1
Registered service action meta.getCapabilities v1
Registered service action source-control.status v1
Registered service action source-control.log v1
Registered service action source-control.commit v1
Registered service action source-control.listBranches v1
Registered service action source-control.createBranch v1
Registered service action source-control.deleteBranch v1
Registered service action source-control.checkout v1
Registered service action source-control.merge v1
Registered service action extensions.submit v1
Registered service action extensions.getBuildStatus v1
Registered service action extensions.listVersions v1
Registered service action extensions.search v1
Registered service action extensions.list v1
Registered service action extensions.get v1
Registered service action extensions.getManifest v1
Registered service action extensions.toggle v1
Registered service action extensions.install v1
Registered service action extensions.uninstall v1
Registered service action extensions.update v1
Registered service action extensions.delete v1
Registered service action extensions.rebuild v1
Registered service action extensions.deleteVersion v1
Registered service action secrets.set v1
Registered service action secrets.list v1
Registered service action secrets.delete v1
‚úÖ Registered 65 service actions across 11 domains
üìÅ VFS Manager started
Starting CronJobManager...
‚öôÔ∏è  ServiceManager started
Configured 65 REST routes.
üõë Shutting down server gracefully...
Stopping ServiceManager...
Stopping CronJobManager...
ServiceManager stopped
Stopping GatewayManager...
GatewayManager stopped
Stopping VFS Manager...
üëã Goodbye!
üöÄ Starting CanvasLLM IDE Server...
Registered service action auth.login v1
Registered service action auth.logout v1
Registered service action auth.getSession v1
Registered service action auth.refreshToken v1
Registered service action auth.register v1
Registered service action auth.requestPasswordReset v1
Registered service action auth.resetPassword v1
Registered service action auth.updatePassword v1
Registered service action workspace.list v1
Registered service action workspace.create v1
Registered service action workspace.get v1
Registered service action workspace.update v1
Registered service action workspace.delete v1
Registered service action workspace.execute v1
Registered service action workspace.processes v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Registered service action file.search v1
Registered service action editor.getState v1
Registered service action editor.saveState v1
Registered service action editor.openFile v1
Registered service action editor.closeFile v1
Registered service action editor.autosave v1
Registered service action settings.getUserSettings v1
Registered service action settings.updateUserSettings v1
Registered service action settings.getWorkspaceSettings v1
Registered service action settings.updateWorkspaceSettings v1
Registered service action ai.chat v1
Registered service action ai.generateCode v1
Registered service action ai.explainCode v1
Registered service action ai.reviewCode v1
Registered service action ai.refactor v1
Registered service action realtime.broadcast v1
Registered service action meta.healthCheck v1
Registered service action meta.getCapabilities v1
Registered service action source-control.status v1
Registered service action source-control.log v1
Registered service action source-control.commit v1
Registered service action source-control.listBranches v1
Registered service action source-control.createBranch v1
Registered service action source-control.deleteBranch v1
Registered service action source-control.checkout v1
Registered service action source-control.merge v1
Registered service action extensions.submit v1
Registered service action extensions.getBuildStatus v1
Registered service action extensions.listVersions v1
Registered service action extensions.search v1
Registered service action extensions.list v1
Registered service action extensions.get v1
Registered service action extensions.getManifest v1
Registered service action extensions.toggle v1
Registered service action extensions.install v1
Registered service action extensions.uninstall v1
Registered service action extensions.update v1
Registered service action extensions.delete v1
Registered service action extensions.rebuild v1
Registered service action extensions.deleteVersion v1
Registered service action secrets.set v1
Registered service action secrets.list v1
Registered service action secrets.delete v1
‚úÖ Registered 65 service actions across 11 domains
üìÅ VFS Manager started
Starting CronJobManager...
‚öôÔ∏è  ServiceManager started
Configured 65 REST routes.
üöÄ Starting CanvasLLM IDE Server...
Registered service action auth.login v1
Registered service action auth.logout v1
Registered service action auth.getSession v1
Registered service action auth.refreshToken v1
Registered service action auth.register v1
Registered service action auth.requestPasswordReset v1
Registered service action auth.resetPassword v1
Registered service action auth.updatePassword v1
Registered service action workspace.list v1
Registered service action workspace.create v1
Registered service action workspace.get v1
Registered service action workspace.update v1
Registered service action workspace.delete v1
Registered service action workspace.execute v1
Registered service action workspace.processes v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Registered service action file.search v1
Registered service action editor.getState v1
Registered service action editor.saveState v1
Registered service action editor.openFile v1
Registered service action editor.closeFile v1
Registered service action editor.autosave v1
Registered service action settings.getUserSettings v1
Registered service action settings.updateUserSettings v1
Registered service action settings.getWorkspaceSettings v1
Registered service action settings.updateWorkspaceSettings v1
Registered service action ai.chat v1
Registered service action ai.generateCode v1
Registered service action ai.explainCode v1
Registered service action ai.reviewCode v1
Registered service action ai.refactor v1
Registered service action realtime.broadcast v1
Registered service action meta.healthCheck v1
Registered service action meta.getCapabilities v1
Registered service action source-control.status v1
Registered service action source-control.log v1
Registered service action source-control.commit v1
Registered service action source-control.listBranches v1
Registered service action source-control.createBranch v1
Registered service action source-control.deleteBranch v1
Registered service action source-control.checkout v1
Registered service action source-control.merge v1
Registered service action extensions.submit v1
Registered service action extensions.getBuildStatus v1
Registered service action extensions.listVersions v1
Registered service action extensions.search v1
Registered service action extensions.list v1
Registered service action extensions.get v1
Registered service action extensions.getManifest v1
Registered service action extensions.toggle v1
Registered service action extensions.install v1
Registered service action extensions.uninstall v1
Registered service action extensions.update v1
Registered service action extensions.delete v1
Registered service action extensions.rebuild v1
Registered service action extensions.deleteVersion v1
Registered service action secrets.set v1
Registered service action secrets.list v1
Registered service action secrets.delete v1
‚úÖ Registered 65 service actions across 11 domains
üìÅ VFS Manager started
Starting CronJobManager...
‚öôÔ∏è  ServiceManager started
Configured 65 REST routes.
üõë Shutting down server gracefully...
Stopping ServiceManager...
Stopping CronJobManager...
ServiceManager stopped
Stopping GatewayManager...
GatewayManager stopped
Stopping VFS Manager...
üëã Goodbye!
üöÄ Starting CanvasLLM IDE Server...
Registered service action auth.login v1
Registered service action auth.logout v1
Registered service action auth.getSession v1
Registered service action auth.refreshToken v1
Registered service action auth.register v1
Registered service action auth.requestPasswordReset v1
Registered service action auth.resetPassword v1
Registered service action auth.updatePassword v1
Registered service action workspace.list v1
Registered service action workspace.create v1
Registered service action workspace.get v1
Registered service action workspace.update v1
Registered service action workspace.delete v1
Registered service action workspace.execute v1
Registered service action workspace.processes v1
Registered service action file.search v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Registered service action editor.getState v1
Registered service action editor.saveState v1
Registered service action editor.openFile v1
Registered service action editor.closeFile v1
Registered service action editor.autosave v1
Registered service action settings.getUserSettings v1
Registered service action settings.updateUserSettings v1
Registered service action settings.getWorkspaceSettings v1
Registered service action settings.updateWorkspaceSettings v1
Registered service action ai.chat v1
Registered service action ai.generateCode v1
Registered service action ai.explainCode v1
Registered service action ai.reviewCode v1
Registered service action ai.refactor v1
Registered service action realtime.broadcast v1
Registered service action meta.healthCheck v1
Registered service action meta.getCapabilities v1
Registered service action source-control.status v1
Registered service action source-control.log v1
Registered service action source-control.commit v1
Registered service action source-control.listBranches v1
Registered service action source-control.createBranch v1
Registered service action source-control.deleteBranch v1
Registered service action source-control.checkout v1
Registered service action source-control.merge v1
Registered service action extensions.submit v1
Registered service action extensions.getBuildStatus v1
Registered service action extensions.listVersions v1
Registered service action extensions.search v1
Registered service action extensions.list v1
Registered service action extensions.get v1
Registered service action extensions.getManifest v1
Registered service action extensions.toggle v1
Registered service action extensions.install v1
Registered service action extensions.uninstall v1
Registered service action extensions.update v1
Registered service action extensions.delete v1
Registered service action extensions.rebuild v1
Registered service action extensions.deleteVersion v1
Registered service action secrets.set v1
Registered service action secrets.list v1
Registered service action secrets.delete v1
‚úÖ Registered 65 service actions across 11 domains
üìÅ VFS Manager started
Starting CronJobManager...
‚öôÔ∏è  ServiceManager started
Configured 65 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3001
üåç HTTP Server listening on 0.0.0.0:3001
üìã Meta routes: http://0.0.0.0:3001/api/_meta/routes
‚ù§Ô∏è  Health check: http://0.0.0.0:3001/api/_meta/health

üõë Received SIGINT.
üõë Shutting down server gracefully...
Stopping ServiceManager...
Stopping CronJobManager...
ServiceManager stopped
Stopping GatewayManager...
GatewayManager stopped
Stopping VFS Manager...
üëã Goodbye!
Registered service action extensions.list v1
Registered service action extensions.search v1
Registered service action extensions.get v1
Registered service action extensions.getManifest v1
Registered service action extensions.install v1
Registered service action extensions.uninstall v1
Registered service action extensions.toggle v1
Registered service action extensions.submit v1
Registered service action extensions.getBuildStatus v1
Registered service action extensions.update v1
Registered service action extensions.rebuild v1
Registered service action extensions.deleteVersion v1
Registered service action extensions.delete v1
Registered service action admin.extensions.listVersions v1
Registered service action admin.extensions.toggleStatus v1
Registered service action admin.extensions.delete v1
Starting CronJobManager...
Configured 16 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3021
ServiceAction extensions.list v1 calling...
ServiceAction extensions.list v1 completed successfully
ServiceAction extensions.submit v1 calling...
ServiceAction extensions.submit v1 completed successfully
ServiceAction extensions.getBuildStatus v1 calling...
ServiceAction extensions.getBuildStatus v1 completed successfully
ServiceAction extensions.update v1 calling...
ServiceAction extensions.update v1 completed successfully
ServiceAction extensions.install v1 calling...
ServiceAction extensions.install v1 completed successfully
ServiceAction extensions.toggle v1 calling...
ServiceAction extensions.toggle v1 completed successfully
ServiceAction extensions.uninstall v1 calling...
ServiceAction extensions.uninstall v1 completed successfully
ServiceAction admin.extensions.toggleStatus v1 calling...
ServiceAction admin.extensions.toggleStatus v1 completed successfully
ServiceAction extensions.search v1 calling...
ServiceAction extensions.search v1 completed successfully
ServiceAction admin.extensions.listVersions v1 calling...
ServiceAction admin.extensions.listVersions v1 completed successfully
ServiceAction admin.extensions.delete v1 calling...
ServiceAction admin.extensions.delete v1 completed successfully
Stopping CronJobManager...
Registered service action file.search v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Starting CronJobManager...
Configured 8 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3018
[GatewayClient] connectWs: Connecting to ws://localhost:3018/ws?token=test-token with protocols: ucb, test-token
[GatewayManager] handleWsConnection: extracted authToken: test-token...
[GatewayClient] connectWs: WebSocket OPEN
[GatewayClient] connectWs: Received message: {"channel":"system","type":"connected","payload":{"status":"ok"},"timestamp":1772172844638}
[GatewayClient] connectWs: Connection confirmed
[GatewayManager] handleWsCall: authenticating action file.create with token test-token...
ServiceAction file.create v1 calling...
ServiceAction file.create v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir","type":"folder","created":"2026-02-27T06:14:04.934Z"},"messageId":"ve6kt407hy","timestamp":1772172844934}
[GatewayManager] handleWsCall: authenticating action file.create with token test-token...
ServiceAction file.create v1 calling...
ServiceAction file.create v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","type":"file","created":"2026-02-27T06:14:04.952Z"},"messageId":"btponl1cgp7","timestamp":1772172844952}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","type":"file","content":"console.log(\"Hello, World!\");","encoding":"utf8","size":29,"language":"typescript","modified":"2026-02-27T06:14:04.956Z"},"messageId":"4n8l6ulwt08","timestamp":1772172844956}
[GatewayManager] handleWsCall: authenticating action file.listTree with token test-token...
ServiceAction file.listTree v1 calling...
ServiceAction file.listTree v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir","entries":[{"name":".keep","type":"file","path":"/test-dir/.keep","size":0,"modified":"2026-02-27T06:14:04.960Z"},{"name":"hello.ts","type":"file","path":"/test-dir/hello.ts","size":29,"modified":"2026-02-27T06:14:04.960Z"},{"name":"test-dir-file.ts","type":"file","path":"/test-dir/test-dir-file.ts","size":0,"modified":"2026-02-27T06:14:04.960Z"}]},"messageId":"x70d3lc1av9","timestamp":1772172844960}
[GatewayManager] handleWsCall: authenticating action file.save with token test-token...
ServiceAction file.save v1 calling...
ServiceAction file.save v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","size":32,"modified":"2026-02-27T06:14:04.968Z"},"messageId":"sou3iyfwqek","timestamp":1772172844968}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","type":"file","content":"console.log(\"Hello, Universe!\");","encoding":"utf8","size":32,"language":"typescript","modified":"2026-02-27T06:14:04.970Z"},"messageId":"1rhzur93n6gj","timestamp":1772172844970}
[GatewayManager] handleWsCall: authenticating action file.copy with token test-token...
ServiceAction file.copy v1 calling...
ServiceAction file.copy v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"original":"/test-dir/hello.ts","copy":"/test-dir/hello-copy.ts","created":"2026-02-27T06:14:04.973Z"},"messageId":"41737kqb1ls","timestamp":1772172844973}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello-copy.ts","type":"file","content":"console.log(\"Hello, Universe!\");","encoding":"utf8","size":32,"language":"typescript","modified":"2026-02-27T06:14:04.974Z"},"messageId":"tvobar2tj","timestamp":1772172844974}
[GatewayManager] handleWsCall: authenticating action file.rename with token test-token...
ServiceAction file.rename v1 calling...
ServiceAction file.rename v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"oldPath":"/test-dir/hello.ts","newPath":"/test-dir/hello-renamed.ts","moved":"2026-02-27T06:14:04.981Z"},"messageId":"quwx23vjkcj","timestamp":1772172844981}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 failed: File not found: /test-dir/hello.ts
Error: File not found: /test-dir/hello.ts
    at Object.handler (/home/ubuntu/code/IDE/src/canvas-llm-server/actions/files/files.actions.ts:93:26)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at ServiceManager.call (/home/ubuntu/code/tool-ms/src/lib/ServiceManager.ts:373:28)
    at GatewayManager.handleWsCall (/home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:306:28)
    at WebSocket.<anonymous> (/home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:276:21)
[GatewayClient] connectWs: Received message: {"channel":"system","type":"error","payload":{"message":"File not found: /test-dir/hello.ts"},"messageId":"g0jm68s0rj","timestamp":1772172845002}
[GatewayManager] handleWsCall: authenticating action file.create with token test-token...
ServiceAction file.create v1 calling...
ServiceAction file.create v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/test-dir-file.ts","type":"file","created":"2026-02-27T06:14:05.009Z"},"messageId":"mhk546foj3","timestamp":1772172845009}
[GatewayManager] handleWsCall: authenticating action file.delete with token test-token...
ServiceAction file.delete v1 calling...
ServiceAction file.delete v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"success":true,"deleted":4},"messageId":"44yplt5jru8","timestamp":1772172845011}
[GatewayManager] handleWsCall: authenticating action file.listTree with token test-token...
ServiceAction file.listTree v1 calling...
ServiceAction file.listTree v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/","entries":[]},"messageId":"agh72c9f0l5","timestamp":1772172845013}
Stopping CronJobManager...
Registered service action editor.getState v1
Registered service action editor.saveState v1
Registered service action editor.openFile v1
Registered service action editor.closeFile v1
Registered service action editor.autosave v1
Registered service action file.search v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Starting CronJobManager...
Configured 13 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3019
ServiceAction editor.openFile v1 calling...
ServiceAction editor.openFile v1 completed successfully
ServiceAction editor.getState v1 calling...
ServiceAction editor.getState v1 completed successfully
ServiceAction editor.autosave v1 calling...
ServiceAction editor.autosave v1 completed successfully
ServiceAction editor.closeFile v1 calling...
ServiceAction editor.closeFile v1 completed successfully
Stopping CronJobManager...
Registered service action workspace.list v1
Registered service action workspace.create v1
Registered service action workspace.get v1
Registered service action workspace.update v1
Registered service action workspace.delete v1
Registered service action workspace.execute v1
Registered service action workspace.processes v1
Starting CronJobManager...
Configured 7 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3017
ServiceAction workspace.create v1 calling...
ServiceAction workspace.create v1 completed successfully
ServiceAction workspace.list v1 calling...
ServiceAction workspace.list v1 completed successfully
ServiceAction workspace.get v1 calling...
ServiceAction workspace.get v1 completed successfully
ServiceAction workspace.update v1 calling...
ServiceAction workspace.update v1 completed successfully
ServiceAction workspace.delete v1 calling...
ServiceAction workspace.delete v1 completed successfully
ServiceAction workspace.list v1 calling...
ServiceAction workspace.list v1 completed successfully
Stopping CronJobManager...
Registered service action source-control.status v1
Registered service action source-control.log v1
Registered service action source-control.commit v1
Registered service action source-control.listBranches v1
Registered service action source-control.createBranch v1
Registered service action source-control.deleteBranch v1
Registered service action source-control.checkout v1
Registered service action source-control.merge v1
Starting CronJobManager...
Configured 8 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3020
ServiceAction source-control.status v1 calling...
ServiceAction source-control.status v1 completed successfully
ServiceAction source-control.commit v1 calling...
ServiceAction source-control.commit v1 completed successfully
ServiceAction source-control.log v1 calling...
ServiceAction source-control.log v1 completed successfully
ServiceAction source-control.createBranch v1 calling...
ServiceAction source-control.createBranch v1 completed successfully
ServiceAction source-control.listBranches v1 calling...
ServiceAction source-control.listBranches v1 completed successfully
ServiceAction source-control.checkout v1 calling...
ServiceAction source-control.checkout v1 completed successfully
Stopping CronJobManager...
Registered service action secrets.set v1
Registered service action secrets.list v1
Registered service action secrets.delete v1
Starting CronJobManager...
Configured 3 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3015
ServiceAction secrets.set v1 calling...
ServiceAction secrets.set v1 completed successfully
ServiceAction secrets.list v1 calling...
ServiceAction secrets.list v1 completed successfully
ServiceAction secrets.set v1 calling...
ServiceAction secrets.set v1 completed successfully
ServiceAction secrets.delete v1 calling...
ServiceAction secrets.delete v1 completed successfully
ServiceAction secrets.list v1 calling...
ServiceAction secrets.list v1 completed successfully
ServiceAction secrets.delete v1 calling...
ServiceAction secrets.delete v1 failed: Secret NOT_THERE not found.
Error: Secret NOT_THERE not found.
    at Object.handler (/home/ubuntu/code/IDE/src/canvas-llm-server/actions/secrets/secrets.actions.ts:167:23)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at ServiceManager.call (/home/ubuntu/code/tool-ms/src/lib/ServiceManager.ts:373:28)
    at /home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:202:32
Stopping CronJobManager...
Registered service action settings.getUserSettings v1
Registered service action settings.updateUserSettings v1
Registered service action settings.getWorkspaceSettings v1
Registered service action settings.updateWorkspaceSettings v1
Starting CronJobManager...
Configured 4 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3016
ServiceAction settings.getWorkspaceSettings v1 calling...
ServiceAction settings.getWorkspaceSettings v1 completed successfully
ServiceAction settings.updateWorkspaceSettings v1 calling...
ServiceAction settings.updateWorkspaceSettings v1 completed successfully
ServiceAction settings.getWorkspaceSettings v1 calling...
ServiceAction settings.getWorkspaceSettings v1 completed successfully
ServiceAction settings.updateUserSettings v1 calling...
ServiceAction settings.updateUserSettings v1 completed successfully
ServiceAction settings.getUserSettings v1 calling...
ServiceAction settings.getUserSettings v1 completed successfully
Stopping CronJobManager...
Registered service action workspace.list v1
Registered service action workspace.create v1
Registered service action workspace.get v1
Registered service action workspace.update v1
Registered service action workspace.delete v1
Registered service action workspace.execute v1
Registered service action workspace.processes v1
Starting CronJobManager...
Configured 7 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3017
ServiceAction workspace.create v1 calling...
ServiceAction workspace.create v1 completed successfully
ServiceAction workspace.list v1 calling...
ServiceAction workspace.list v1 completed successfully
ServiceAction workspace.get v1 calling...
ServiceAction workspace.get v1 completed successfully
ServiceAction workspace.update v1 calling...
ServiceAction workspace.update v1 completed successfully
ServiceAction workspace.delete v1 calling...
ServiceAction workspace.delete v1 completed successfully
ServiceAction workspace.list v1 calling...
ServiceAction workspace.list v1 completed successfully
Stopping CronJobManager...
Registered service action settings.getUserSettings v1
Registered service action settings.updateUserSettings v1
Registered service action settings.getWorkspaceSettings v1
Registered service action settings.updateWorkspaceSettings v1
Starting CronJobManager...
Configured 4 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3016
ServiceAction settings.getWorkspaceSettings v1 calling...
ServiceAction settings.getWorkspaceSettings v1 completed successfully
ServiceAction settings.updateWorkspaceSettings v1 calling...
ServiceAction settings.updateWorkspaceSettings v1 completed successfully
ServiceAction settings.getWorkspaceSettings v1 calling...
ServiceAction settings.getWorkspaceSettings v1 completed successfully
ServiceAction settings.updateUserSettings v1 calling...
ServiceAction settings.updateUserSettings v1 completed successfully
ServiceAction settings.getUserSettings v1 calling...
ServiceAction settings.getUserSettings v1 completed successfully
Stopping CronJobManager...
Registered service action source-control.status v1
Registered service action source-control.log v1
Registered service action source-control.commit v1
Registered service action source-control.listBranches v1
Registered service action source-control.createBranch v1
Registered service action source-control.deleteBranch v1
Registered service action source-control.checkout v1
Registered service action source-control.merge v1
Starting CronJobManager...
Configured 8 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3020
ServiceAction source-control.status v1 calling...
ServiceAction source-control.status v1 completed successfully
ServiceAction source-control.commit v1 calling...
ServiceAction source-control.commit v1 completed successfully
ServiceAction source-control.log v1 calling...
ServiceAction source-control.log v1 completed successfully
ServiceAction source-control.createBranch v1 calling...
ServiceAction source-control.createBranch v1 completed successfully
ServiceAction source-control.listBranches v1 calling...
ServiceAction source-control.listBranches v1 completed successfully
ServiceAction source-control.checkout v1 calling...
ServiceAction source-control.checkout v1 completed successfully
Stopping CronJobManager...
Registered service action secrets.set v1
Registered service action secrets.list v1
Registered service action secrets.delete v1
Starting CronJobManager...
Configured 3 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3015
ServiceAction secrets.set v1 calling...
ServiceAction secrets.set v1 completed successfully
ServiceAction secrets.list v1 calling...
ServiceAction secrets.list v1 completed successfully
ServiceAction secrets.set v1 calling...
ServiceAction secrets.set v1 completed successfully
ServiceAction secrets.delete v1 calling...
ServiceAction secrets.delete v1 completed successfully
ServiceAction secrets.list v1 calling...
ServiceAction secrets.list v1 completed successfully
ServiceAction secrets.delete v1 calling...
ServiceAction secrets.delete v1 failed: Secret NOT_THERE not found.
Error: Secret NOT_THERE not found.
    at Object.handler (/home/ubuntu/code/IDE/src/canvas-llm-server/actions/secrets/secrets.actions.ts:167:23)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at ServiceManager.call (/home/ubuntu/code/tool-ms/src/lib/ServiceManager.ts:373:28)
    at /home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:202:32
Stopping CronJobManager...
Registered service action file.search v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Starting CronJobManager...
Configured 8 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3018
[GatewayClient] connectWs: Connecting to ws://localhost:3018/ws?token=test-token with protocols: ucb, test-token
[GatewayManager] handleWsConnection: extracted authToken: test-token...
[GatewayClient] connectWs: WebSocket OPEN
[GatewayClient] connectWs: Received message: {"channel":"system","type":"connected","payload":{"status":"ok"},"timestamp":1772172929838}
[GatewayClient] connectWs: Connection confirmed
[GatewayManager] handleWsCall: authenticating action file.create with token test-token...
ServiceAction file.create v1 calling...
ServiceAction file.create v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir","type":"folder","created":"2026-02-27T06:15:30.018Z"},"messageId":"ajyf2y7796j","timestamp":1772172930018}
[GatewayManager] handleWsCall: authenticating action file.create with token test-token...
ServiceAction file.create v1 calling...
ServiceAction file.create v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","type":"file","created":"2026-02-27T06:15:30.025Z"},"messageId":"7yndugin4o","timestamp":1772172930025}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","type":"file","content":"console.log(\"Hello, World!\");","encoding":"utf8","size":29,"language":"typescript","modified":"2026-02-27T06:15:30.029Z"},"messageId":"5ypeif2qw5s","timestamp":1772172930029}
[GatewayManager] handleWsCall: authenticating action file.listTree with token test-token...
ServiceAction file.listTree v1 calling...
ServiceAction file.listTree v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir","entries":[{"name":".keep","type":"file","path":"/test-dir/.keep","size":0,"modified":"2026-02-27T06:15:30.033Z"},{"name":"hello.ts","type":"file","path":"/test-dir/hello.ts","size":29,"modified":"2026-02-27T06:15:30.033Z"},{"name":"test-dir-file.ts","type":"file","path":"/test-dir/test-dir-file.ts","size":0,"modified":"2026-02-27T06:15:30.033Z"}]},"messageId":"1g4a7b95qj1","timestamp":1772172930033}
[GatewayManager] handleWsCall: authenticating action file.save with token test-token...
ServiceAction file.save v1 calling...
ServiceAction file.save v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","size":32,"modified":"2026-02-27T06:15:30.038Z"},"messageId":"p8j6ccnxkw","timestamp":1772172930038}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","type":"file","content":"console.log(\"Hello, Universe!\");","encoding":"utf8","size":32,"language":"typescript","modified":"2026-02-27T06:15:30.040Z"},"messageId":"px1ogmnbsu","timestamp":1772172930040}
[GatewayManager] handleWsCall: authenticating action file.copy with token test-token...
ServiceAction file.copy v1 calling...
ServiceAction file.copy v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"original":"/test-dir/hello.ts","copy":"/test-dir/hello-copy.ts","created":"2026-02-27T06:15:30.042Z"},"messageId":"wv0otvbbba","timestamp":1772172930042}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello-copy.ts","type":"file","content":"console.log(\"Hello, Universe!\");","encoding":"utf8","size":32,"language":"typescript","modified":"2026-02-27T06:15:30.044Z"},"messageId":"nmk09ynldsl","timestamp":1772172930044}
[GatewayManager] handleWsCall: authenticating action file.rename with token test-token...
ServiceAction file.rename v1 calling...
ServiceAction file.rename v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"oldPath":"/test-dir/hello.ts","newPath":"/test-dir/hello-renamed.ts","moved":"2026-02-27T06:15:30.049Z"},"messageId":"pajpk921ijs","timestamp":1772172930049}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 failed: File not found: /test-dir/hello.ts
Error: File not found: /test-dir/hello.ts
    at Object.handler (/home/ubuntu/code/IDE/src/canvas-llm-server/actions/files/files.actions.ts:93:26)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at ServiceManager.call (/home/ubuntu/code/tool-ms/src/lib/ServiceManager.ts:373:28)
    at GatewayManager.handleWsCall (/home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:306:28)
    at WebSocket.<anonymous> (/home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:276:21)
[GatewayClient] connectWs: Received message: {"channel":"system","type":"error","payload":{"message":"File not found: /test-dir/hello.ts"},"messageId":"3d83lvdlv83","timestamp":1772172930070}
[GatewayManager] handleWsCall: authenticating action file.create with token test-token...
ServiceAction file.create v1 calling...
ServiceAction file.create v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/test-dir-file.ts","type":"file","created":"2026-02-27T06:15:30.076Z"},"messageId":"7blxrw80dwe","timestamp":1772172930076}
[GatewayManager] handleWsCall: authenticating action file.delete with token test-token...
ServiceAction file.delete v1 calling...
ServiceAction file.delete v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"success":true,"deleted":4},"messageId":"r7qf79tedmm","timestamp":1772172930078}
[GatewayManager] handleWsCall: authenticating action file.listTree with token test-token...
ServiceAction file.listTree v1 calling...
ServiceAction file.listTree v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/","entries":[]},"messageId":"pt8x5qs4ikc","timestamp":1772172930080}
Stopping CronJobManager...
Registered service action extensions.list v1
Registered service action extensions.search v1
Registered service action extensions.get v1
Registered service action extensions.getManifest v1
Registered service action extensions.install v1
Registered service action extensions.uninstall v1
Registered service action extensions.toggle v1
Registered service action extensions.submit v1
Registered service action extensions.getBuildStatus v1
Registered service action extensions.update v1
Registered service action extensions.rebuild v1
Registered service action extensions.deleteVersion v1
Registered service action extensions.delete v1
Registered service action admin.extensions.listVersions v1
Registered service action admin.extensions.toggleStatus v1
Registered service action admin.extensions.delete v1
Starting CronJobManager...
Configured 16 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3021
ServiceAction extensions.list v1 calling...
ServiceAction extensions.list v1 completed successfully
ServiceAction extensions.submit v1 calling...
ServiceAction extensions.submit v1 completed successfully
ServiceAction extensions.getBuildStatus v1 calling...
ServiceAction extensions.getBuildStatus v1 completed successfully
ServiceAction extensions.update v1 calling...
ServiceAction extensions.update v1 completed successfully
ServiceAction extensions.install v1 calling...
ServiceAction extensions.install v1 completed successfully
ServiceAction extensions.toggle v1 calling...
ServiceAction extensions.toggle v1 completed successfully
ServiceAction extensions.uninstall v1 calling...
ServiceAction extensions.uninstall v1 completed successfully
ServiceAction admin.extensions.toggleStatus v1 calling...
ServiceAction admin.extensions.toggleStatus v1 completed successfully
ServiceAction extensions.search v1 calling...
ServiceAction extensions.search v1 completed successfully
ServiceAction admin.extensions.listVersions v1 calling...
ServiceAction admin.extensions.listVersions v1 completed successfully
ServiceAction admin.extensions.delete v1 calling...
ServiceAction admin.extensions.delete v1 completed successfully
Stopping CronJobManager...
Registered service action editor.getState v1
Registered service action editor.saveState v1
Registered service action editor.openFile v1
Registered service action editor.closeFile v1
Registered service action editor.autosave v1
Registered service action file.search v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Starting CronJobManager...
Configured 13 REST routes.
üöÄ Unified Gateway running on http://0.0.0.0:3019
ServiceAction editor.openFile v1 calling...
ServiceAction editor.openFile v1 completed successfully
ServiceAction editor.getState v1 calling...
ServiceAction editor.getState v1 completed successfully
ServiceAction editor.autosave v1 calling...
ServiceAction editor.autosave v1 completed successfully
ServiceAction editor.closeFile v1 calling...
ServiceAction editor.closeFile v1 completed successfully
Stopping CronJobManager...
