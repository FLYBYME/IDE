Registered service action file.search v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Starting CronJobManager...
Configured 8 REST routes.
ðŸš€ Unified Gateway running on http://0.0.0.0:3018
[GatewayClient] connectWs: Connecting to ws://localhost:3018/ws?token=test-token with protocols: ucb, test-token
[GatewayManager] handleWsConnection: extracted authToken: test-token...
[GatewayClient] connectWs: WebSocket OPEN
[GatewayClient] connectWs: Received message: {"channel":"system","type":"connected","payload":{"status":"ok"},"timestamp":1772187907092}
[GatewayClient] connectWs: Connection confirmed
[GatewayManager] handleWsCall: authenticating action file.create with token test-token...
ServiceAction file.create v1 calling...
ðŸš€ Started container 3485369c43517bbe3942689c863d73d3668990d49204172b786d4666ba036834 for workspace 44444444-4444-4444-4444-444444444444 using image canvas-workspace:latest
ServiceAction file.create v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir","type":"folder","created":"2026-02-27T10:25:07.262Z"},"messageId":"0f5qd7drm1wb","timestamp":1772187907262}
[GatewayManager] handleWsCall: authenticating action file.create with token test-token...
ServiceAction file.create v1 calling...
ServiceAction file.create v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","type":"file","created":"2026-02-27T10:25:07.270Z"},"messageId":"nh3gdxtvss","timestamp":1772187907270}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","type":"file","content":"console.log(\"Hello, World!\");","encoding":"utf8","size":29,"language":"typescript","modified":"2026-02-27T10:25:07.273Z"},"messageId":"ox1111483kh","timestamp":1772187907274}
[GatewayManager] handleWsCall: authenticating action file.listTree with token test-token...
ServiceAction file.listTree v1 calling...
ServiceAction file.listTree v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir","entries":[{"name":".keep","type":"file","path":"/test-dir/.keep","size":0,"modified":"2026-02-27T10:25:07.276Z"},{"name":"hello.ts","type":"file","path":"/test-dir/hello.ts","size":29,"modified":"2026-02-27T10:25:07.276Z"},{"name":"test-dir-file.ts","type":"file","path":"/test-dir/test-dir-file.ts","size":0,"modified":"2026-02-27T10:25:07.276Z"}]},"messageId":"k3khzc8r1rq","timestamp":1772187907277}
Synced to VFS & Frontend: test-dir/hello.ts (add)
[GatewayManager] handleWsCall: authenticating action file.save with token test-token...
ServiceAction file.save v1 calling...
Synced to VFS & Frontend: test-dir/hello.ts (change)
ServiceAction file.save v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","size":32,"modified":"2026-02-27T10:25:07.283Z"},"messageId":"oevhe1m6hh","timestamp":1772187907283}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello.ts","type":"file","content":"console.log(\"Hello, Universe!\");","encoding":"utf8","size":32,"language":"typescript","modified":"2026-02-27T10:25:07.285Z"},"messageId":"mub3hpv30t","timestamp":1772187907285}
[GatewayManager] handleWsCall: authenticating action file.copy with token test-token...
ServiceAction file.copy v1 calling...
ServiceAction file.copy v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"original":"/test-dir/hello.ts","copy":"/test-dir/hello-copy.ts","created":"2026-02-27T10:25:07.287Z"},"messageId":"ou55y00afk","timestamp":1772187907287}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/hello-copy.ts","type":"file","content":"console.log(\"Hello, Universe!\");","encoding":"utf8","size":32,"language":"typescript","modified":"2026-02-27T10:25:07.289Z"},"messageId":"s2jkb1ln2gm","timestamp":1772187907289}
[GatewayManager] handleWsCall: authenticating action file.rename with token test-token...
ServiceAction file.rename v1 calling...
ServiceAction file.rename v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"oldPath":"/test-dir/hello.ts","newPath":"/test-dir/hello-renamed.ts","moved":"2026-02-27T10:25:07.293Z"},"messageId":"qa0odsvraf9","timestamp":1772187907294}
[GatewayManager] handleWsCall: authenticating action file.get with token test-token...
ServiceAction file.get v1 calling...
ServiceAction file.get v1 failed: File not found: /test-dir/hello.ts
Error: File not found: /test-dir/hello.ts
    at Object.handler (/home/ubuntu/code/IDE/src/canvas-llm-server/actions/files/files.actions.ts:93:26)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at ServiceManager.call (/home/ubuntu/code/tool-ms/src/lib/ServiceManager.ts:373:28)
    at GatewayManager.handleWsCall (/home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:306:28)
    at WebSocket.<anonymous> (/home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:275:21)
[GatewayClient] connectWs: Received message: {"channel":"system","type":"error","payload":{"message":"File not found: /test-dir/hello.ts"},"messageId":"6hjx98uur1f","timestamp":1772187907314}
Synced to VFS & Frontend: test-dir/hello-renamed.ts (add)
[GatewayManager] handleWsCall: authenticating action file.create with token test-token...
ServiceAction file.create v1 calling...
ServiceAction file.create v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/test-dir/test-dir-file.ts","type":"file","created":"2026-02-27T10:25:07.321Z"},"messageId":"vc1aa12j05q","timestamp":1772187907321}
[GatewayManager] handleWsCall: authenticating action file.delete with token test-token...
ServiceAction file.delete v1 calling...
ServiceAction file.delete v1 completed successfully
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"success":true,"deleted":4},"messageId":"wrmldcyw0nm","timestamp":1772187907323}
[GatewayManager] handleWsCall: authenticating action file.listTree with token test-token...
ServiceAction file.listTree v1 calling...
ServiceAction file.listTree v1 completed successfully
Synced to VFS & Frontend: test-dir/test-dir-file.ts (add)
[GatewayClient] connectWs: Received message: {"channel":"system","type":"response","payload":{"path":"/","entries":[]},"messageId":"yvvjb89u9","timestamp":1772187907325}
Stopping CronJobManager...
Stopped workspace container for 44444444-4444-4444-4444-444444444444
Registered service action editor.getState v1
Registered service action editor.saveState v1
Registered service action editor.openFile v1
Registered service action editor.closeFile v1
Registered service action editor.autosave v1
Registered service action file.search v1
Registered service action file.listTree v1
Registered service action file.get v1
Registered service action file.create v1
Registered service action file.save v1
Registered service action file.delete v1
Registered service action file.rename v1
Registered service action file.copy v1
Starting CronJobManager...
Configured 13 REST routes.
ðŸš€ Unified Gateway running on http://0.0.0.0:3019
ðŸš€ Started container c219551c71ca06d4dbabb1c25c20fbd79bc389f112cb5bec7d1f6583c1544481 for workspace 22222222-2222-2222-2222-222222222222 using image canvas-workspace:latest
ServiceAction editor.openFile v1 calling...
ServiceAction editor.openFile v1 completed successfully
ServiceAction editor.getState v1 calling...
ServiceAction editor.getState v1 completed successfully
ServiceAction editor.autosave v1 calling...
ServiceAction editor.autosave v1 completed successfully
ServiceAction editor.closeFile v1 calling...
ServiceAction editor.closeFile v1 completed successfully
Stopping CronJobManager...
Stopped workspace container for 22222222-2222-2222-2222-222222222222
Registered service action source-control.status v1
Registered service action source-control.log v1
Registered service action source-control.commit v1
Registered service action source-control.listBranches v1
Registered service action source-control.createBranch v1
Registered service action source-control.deleteBranch v1
Registered service action source-control.checkout v1
Registered service action source-control.merge v1
Starting CronJobManager...
Configured 8 REST routes.
ðŸš€ Unified Gateway running on http://0.0.0.0:3020
ðŸš€ Started container 9ad3a3236e49156ed9b6fd5a04ae91a84392fbad4cf36cfb0703013637ceaf22 for workspace 33333333-3333-3333-3333-333333333333 using image canvas-workspace:latest
ServiceAction source-control.status v1 calling...
ServiceAction source-control.status v1 completed successfully
ServiceAction source-control.commit v1 calling...
ServiceAction source-control.commit v1 completed successfully
ServiceAction source-control.log v1 calling...
ServiceAction source-control.log v1 completed successfully
ServiceAction source-control.createBranch v1 calling...
ServiceAction source-control.createBranch v1 completed successfully
ServiceAction source-control.listBranches v1 calling...
ServiceAction source-control.listBranches v1 completed successfully
ServiceAction source-control.checkout v1 calling...
ServiceAction source-control.checkout v1 completed successfully
Stopping CronJobManager...
Stopped workspace container for 33333333-3333-3333-3333-333333333333
Registered service action workspace.list v1
Registered service action workspace.create v1
Registered service action workspace.get v1
Registered service action workspace.update v1
Registered service action workspace.delete v1
Registered service action workspace.execute v1
Registered service action workspace.processes v1
Starting CronJobManager...
Configured 7 REST routes.
ðŸš€ Unified Gateway running on http://0.0.0.0:3017
ServiceAction workspace.create v1 calling...
ðŸš€ Started container 37a6ab6b0c507bfe64468141e2707b6f8effa20059102a0208dffaecf97a6327 for workspace 4de90300-f43a-4691-a555-a9415c60a07c using image canvas-workspace:latest
ServiceAction workspace.create v1 completed successfully
ServiceAction workspace.list v1 calling...
ServiceAction workspace.list v1 completed successfully
ServiceAction workspace.get v1 calling...
ServiceAction workspace.get v1 completed successfully
ServiceAction workspace.update v1 calling...
ServiceAction workspace.update v1 completed successfully
ServiceAction workspace.delete v1 calling...
Stopped workspace container for 4de90300-f43a-4691-a555-a9415c60a07c
ServiceAction workspace.delete v1 completed successfully
ServiceAction workspace.list v1 calling...
ServiceAction workspace.list v1 completed successfully
Stopping CronJobManager...
Registered service action auth.login v1
Registered service action auth.logout v1
Registered service action auth.getSession v1
Registered service action auth.refreshToken v1
Registered service action auth.register v1
Registered service action auth.requestPasswordReset v1
Registered service action auth.resetPassword v1
Registered service action auth.updatePassword v1
Registered service action auth.updateProfile v1
Registered service action admin.listUsers v1
Registered service action admin.getUser v1
Registered service action admin.toggleStatus v1
Registered service action admin.changeRole v1
Registered service action admin.forceResetPassword v1
Registered service action admin.deleteUser v1
Starting CronJobManager...
Configured 15 REST routes.
ðŸš€ Unified Gateway running on http://0.0.0.0:4020
Registered service action auth.login v1
Registered service action auth.logout v1
Registered service action auth.getSession v1
Registered service action auth.refreshToken v1
Registered service action auth.register v1
Registered service action auth.requestPasswordReset v1
Registered service action auth.resetPassword v1
Registered service action auth.updatePassword v1
Registered service action auth.updateProfile v1
Registered service action admin.listUsers v1
Registered service action admin.getUser v1
Registered service action admin.toggleStatus v1
Registered service action admin.changeRole v1
Registered service action admin.forceResetPassword v1
Registered service action admin.deleteUser v1
Starting CronJobManager...
Configured 15 REST routes.
ðŸš€ Unified Gateway running on http://0.0.0.0:4021
ServiceAction auth.register v1 calling...
ServiceAction auth.register v1 completed successfully
ServiceAction auth.login v1 calling...
ServiceAction auth.login v1 completed successfully
ServiceAction auth.login v1 calling...
ServiceAction auth.login v1 failed: Invalid credentials
Error: Invalid credentials
    at Object.handler (/home/ubuntu/code/IDE/src/canvas-llm-server/actions/auth/auth.actions.ts:46:27)
    at ServiceManager.call (/home/ubuntu/code/tool-ms/src/lib/ServiceManager.ts:373:28)
    at /home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:201:32
ServiceAction auth.login v1 calling...
ServiceAction auth.login v1 completed successfully
ServiceAction auth.refreshToken v1 calling...
ServiceAction auth.refreshToken v1 completed successfully
ServiceAction auth.requestPasswordReset v1 calling...
ServiceAction auth.requestPasswordReset v1 completed successfully
ServiceAction auth.getSession v1 calling...
ServiceAction auth.getSession v1 completed successfully
ServiceAction auth.updateProfile v1 calling...
ServiceAction auth.updateProfile v1 completed successfully
ServiceAction auth.updatePassword v1 calling...
ServiceAction auth.updatePassword v1 completed successfully
ServiceAction auth.logout v1 calling...
ServiceAction auth.logout v1 completed successfully
ServiceAction admin.listUsers v1 calling...
ServiceAction admin.listUsers v1 completed successfully
ServiceAction admin.getUser v1 calling...
ServiceAction admin.getUser v1 completed successfully
ServiceAction admin.toggleStatus v1 calling...
ServiceAction admin.toggleStatus v1 completed successfully
ServiceAction admin.toggleStatus v1 calling...
ServiceAction admin.toggleStatus v1 completed successfully
ServiceAction admin.changeRole v1 calling...
ServiceAction admin.changeRole v1 completed successfully
ServiceAction admin.changeRole v1 calling...
ServiceAction admin.changeRole v1 completed successfully
ServiceAction admin.forceResetPassword v1 calling...
ServiceAction admin.forceResetPassword v1 completed successfully
ServiceAction auth.login v1 calling...
ServiceAction auth.login v1 completed successfully
ServiceAction admin.deleteUser v1 calling...
ServiceAction admin.deleteUser v1 completed successfully
Stopping CronJobManager...
Stopping CronJobManager...
Registered service action extensions.list v1
Registered service action extensions.search v1
Registered service action extensions.get v1
Registered service action extensions.getManifest v1
Registered service action extensions.install v1
Registered service action extensions.uninstall v1
Registered service action extensions.toggle v1
Registered service action extensions.submit v1
Registered service action extensions.getBuildStatus v1
Registered service action extensions.update v1
Registered service action extensions.rebuild v1
Registered service action extensions.deleteVersion v1
Registered service action extensions.delete v1
Registered service action admin.extensions.listVersions v1
Registered service action admin.extensions.toggleStatus v1
Registered service action admin.extensions.delete v1
Starting CronJobManager...
Configured 16 REST routes.
ðŸš€ Unified Gateway running on http://0.0.0.0:3021
ServiceAction extensions.list v1 calling...
ServiceAction extensions.list v1 completed successfully
ServiceAction extensions.submit v1 calling...
ServiceAction extensions.submit v1 completed successfully
[BUILD 86a9bb1e-6b1b-42f5-99e1-dcb8e4dc8662] Starting build for test-extension@pending
ServiceAction extensions.getBuildStatus v1 calling...
ServiceAction extensions.getBuildStatus v1 completed successfully
ServiceAction extensions.update v1 calling...
ServiceAction extensions.update v1 completed successfully
ServiceAction extensions.install v1 calling...
ServiceAction extensions.install v1 completed successfully
ServiceAction extensions.toggle v1 calling...
ServiceAction extensions.toggle v1 completed successfully
ServiceAction extensions.uninstall v1 calling...
ServiceAction extensions.uninstall v1 completed successfully
ServiceAction admin.extensions.toggleStatus v1 calling...
ServiceAction admin.extensions.toggleStatus v1 completed successfully
ServiceAction extensions.search v1 calling...
ServiceAction extensions.search v1 completed successfully
ServiceAction admin.extensions.listVersions v1 calling...
ServiceAction admin.extensions.listVersions v1 completed successfully
ServiceAction admin.extensions.delete v1 calling...
ServiceAction admin.extensions.delete v1 completed successfully
Stopping CronJobManager...
Registered service action secrets.set v1
Registered service action secrets.list v1
Registered service action secrets.delete v1
Starting CronJobManager...
Configured 3 REST routes.
ðŸš€ Unified Gateway running on http://0.0.0.0:3015
ðŸš€ Started container d7fd0a7b7c7dd089301d0778389393a30680b5b5812809bfdbe434b4d6013151 for workspace 86a9bb1e-6b1b-42f5-99e1-dcb8e4dc8662 using image canvas-workspace:latest
[BUILD 86a9bb1e-6b1b-42f5-99e1-dcb8e4dc8662] Cloning repository: https://github.com/test/test-extension.git (branch: main)
ServiceAction secrets.set v1 calling...
ServiceAction secrets.set v1 completed successfully
ServiceAction secrets.list v1 calling...
ServiceAction secrets.list v1 completed successfully
ServiceAction secrets.set v1 calling...
ServiceAction secrets.set v1 completed successfully
ServiceAction secrets.delete v1 calling...
ServiceAction secrets.delete v1 completed successfully
ServiceAction secrets.list v1 calling...
ServiceAction secrets.list v1 completed successfully
ServiceAction secrets.delete v1 calling...
ServiceAction secrets.delete v1 failed: Secret NOT_THERE not found.
Error: Secret NOT_THERE not found.
    at Object.handler (/home/ubuntu/code/IDE/src/canvas-llm-server/actions/secrets/secrets.actions.ts:167:23)
    at processTicksAndRejections (node:internal/process/task_queues:103:5)
    at ServiceManager.call (/home/ubuntu/code/tool-ms/src/lib/ServiceManager.ts:373:28)
    at /home/ubuntu/code/tool-ms/src/lib/GatewayManager.ts:201:32
Stopping CronJobManager...
Registered service action settings.getUserSettings v1
Registered service action settings.updateUserSettings v1
Registered service action settings.getWorkspaceSettings v1
Registered service action settings.updateWorkspaceSettings v1
Starting CronJobManager...
Configured 4 REST routes.
ðŸš€ Unified Gateway running on http://0.0.0.0:3016
[BUILD 86a9bb1e-6b1b-42f5-99e1-dcb8e4dc8662] ERROR: Git clone failed with code 128
Failed to update error status in DB
[BUILD 86a9bb1e-6b1b-42f5-99e1-dcb8e4dc8662] Cleaning up build environment...
ServiceAction settings.getWorkspaceSettings v1 calling...
ServiceAction settings.getWorkspaceSettings v1 completed successfully
ServiceAction settings.updateWorkspaceSettings v1 calling...
ServiceAction settings.updateWorkspaceSettings v1 completed successfully
ServiceAction settings.getWorkspaceSettings v1 calling...
ServiceAction settings.getWorkspaceSettings v1 completed successfully
ServiceAction settings.updateUserSettings v1 calling...
ServiceAction settings.updateUserSettings v1 completed successfully
ServiceAction settings.getUserSettings v1 calling...
ServiceAction settings.getUserSettings v1 completed successfully
Stopping CronJobManager...
Stopped workspace container for 86a9bb1e-6b1b-42f5-99e1-dcb8e4dc8662
